{"version":3,"sources":["InputYear.js"],"names":["React","Component","TextInput","Text","isEmpty","isUndefined","connect","slug","findArrayName","InputYear","constructor","props","value","data","String","state","type","replace","maxlength","substring","setInput","props_name","setState","event","height","nativeEvent","contentSize","default_placeholder","placeholder","option_summer","options_cleave","toLowerCase","delimiter","blocks","numericOnly","delimiters","name","componentDidUpdate","prevProps","prevState","input","e","render","disabled","isReadonly","style","multiline","isResizable","Math","min","max","mapStateToProps","core","mapDispatchToProps","dispatch","key","val","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport { TextInput, Text } from 'react-native';\r\n\r\nimport { isEmpty, isUndefined } from 'lodash';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { slug, findArrayName } from 'tcomponent';\r\n\r\nclass InputYear extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let default_placeholder = this.props.placeholder;\r\n\r\n    let option_summer = {};\r\n\r\n    let options_cleave = {};\r\n\r\n    let type = this.props.type ? String(this.props.type) : '';\r\n\r\n    if (type.toLowerCase() == 'nik') {\r\n      options_cleave = {\r\n        delimiter: ' ',\r\n        blocks: [2, 2, 2, 6, 4],\r\n        numericOnly: true,\r\n      };\r\n\r\n      default_placeholder =\r\n        this.props.placeholder || 'Nomor Induk Kependudukan';\r\n    } else if (type.toLowerCase() == 'kip') {\r\n      options_cleave = {\r\n        delimiter: ' ',\r\n        blocks: [4, 4, 4, 4],\r\n      };\r\n\r\n      default_placeholder = this.props.placeholder || 'Kartu Indonesia Pintar';\r\n    } else if (type.toLowerCase() == 'npwp') {\r\n      options_cleave = {\r\n        delimiters: ['.', '.', '.', '-', '.'],\r\n        blocks: [2, 3, 3, 1, 3, 3],\r\n        numericOnly: true,\r\n      };\r\n\r\n      default_placeholder = this.props.placeholder || 'Nomor Pokok Wajib Pajak';\r\n    } else if (type.toLowerCase() == 'postcode') {\r\n      options_cleave = {\r\n        blocks: [5],\r\n        delimiter: ' ',\r\n        numericOnly: true,\r\n      };\r\n\r\n      default_placeholder = this.props.placeholder || 'Kode Pos';\r\n    } else if (type.toLowerCase() == 'phone') {\r\n      /*\r\n      options_cleave = {\r\n        delimiter: ' ',\r\n        blocks: [4, 4, 4, 1],\r\n        numericOnly: true\r\n      }\r\n      */\r\n\r\n      default_placeholder = this.props.placeholder || 'Telepon';\r\n    }\r\n\r\n    type = type === 'text' || isUndefined(type) ? 'search' : type;\r\n\r\n    this.state = {\r\n      height: 0,\r\n      type,\r\n      placeholder: default_placeholder,\r\n      options_cleave,\r\n      value: this.props.value,\r\n      props_name: this.props.name ? slug(String(this.props.name), '_') : '',\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    try {\r\n      if (\r\n        findArrayName(this.state.props_name, this.props.input) !=\r\n          findArrayName(this.state.props_name, prevProps.input) &&\r\n        findArrayName(this.state.props_name, this.props.input) !=\r\n          this.state.value\r\n      ) {\r\n        let value = this.props.input[this.state.props_name] || '';\r\n\r\n        this.setState({ value });\r\n      }\r\n    } catch (e) {}\r\n\r\n    if (this.props.value && prevProps.value != this.props.value) {\r\n      let value = this.props.value || '';\r\n\r\n      this.setState({ value });\r\n    }\r\n  }\r\n\r\n  handleInputChange = (value) => {\r\n    let data = value ? String(value) : '';\r\n\r\n    if (\r\n      this.state.type == 'nik' ||\r\n      this.state.type == 'kip' ||\r\n      this.state.type == 'npwp' ||\r\n      this.state.type == 'postcode'\r\n    ) {\r\n      data = data.replace(/\\D/g, '');\r\n    }\r\n\r\n    if (this.props.maxlength) {\r\n      data = data.substring(0, this.props.maxlength);\r\n    }\r\n\r\n    this.props.setInput(this.state.props_name, data);\r\n\r\n    this.setState({ value: data });\r\n  };\r\n\r\n  onContentSizeChange = (event) => {\r\n    this.setState({ height: event.nativeEvent.contentSize.height });\r\n  };\r\n\r\n  render() {\r\n    // console.log(this.props,this.state.value)\r\n\r\n    if (this.props.disabled || this.props.isReadonly) {\r\n      return <Text>{!isEmpty(this.state.value) && this.state.value}</Text>;\r\n    }\r\n\r\n    let style = this.props.style;\r\n\r\n    let multiline = false;\r\n\r\n    if (this.props.isResizable) {\r\n      style = [\r\n        { ...this.props.style },\r\n        {\r\n          height: Math.min(80, Math.max(35, this.state.height)),\r\n        },\r\n      ];\r\n      multiline = true;\r\n    }\r\n\r\n    // console.log(this.state.props_name, this.state.height);\r\n\r\n    return <Text>Under Development</Text>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  input: state.core.input || {},\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setInput: (key, val) =>\r\n    dispatch({\r\n      type: 'SET_INPUT',\r\n      payload: {\r\n        key: slug(String(key), '_'),\r\n        value: val,\r\n      },\r\n    }),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(InputYear);\r\n"]}